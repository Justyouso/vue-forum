(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c7db3404"],{"3a2a":function(t,e,a){},"3b15":function(t,e,a){"use strict";var s=a("ca1a"),i=a.n(s);i.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var s=a("1d80"),i=a("5899"),o="["+i+"]",l=RegExp("^"+o+o+"*"),r=RegExp(o+o+"*$"),n=function(t){return function(e){var a=String(s(e));return 1&t&&(a=a.replace(l,"")),2&t&&(a=a.replace(r,"")),a}};t.exports={start:n(1),end:n(2),trim:n(3)}},7156:function(t,e,a){var s=a("861d"),i=a("d2bb");t.exports=function(t,e,a){var o,l;return i&&"function"==typeof(o=e.constructor)&&o!==a&&s(l=o.prototype)&&l!==a.prototype&&i(t,l),t}},"7368a":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"person"},[a("div",{staticClass:"home-page pull-left"},[a("div",{staticClass:"home-head pull-left"},[a("div",{staticClass:"title pull-left"},[a("div",{staticClass:"name"},[t._v(t._s(t.authorData.name))]),a("div",{staticClass:"icon-list"},[a("div",{staticClass:"meta-bolck pull-left"},[a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handleChild("followed")}}},[a("p",[t._v(t._s(t.authorData.followed))]),t._v("关注 "),a("i",{staticClass:"el-icon-arrow-right"})])],1),a("div",{staticClass:"meta-bolck pull-left"},[a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handleChild("fans")}}},[a("p",[t._v(t._s(t.authorData.fans))]),t._v("粉丝 "),a("i",{staticClass:"el-icon-arrow-right"})])],1),a("div",{staticClass:"meta-bolck pull-left"},[a("el-button",{attrs:{type:"text"},on:{click:function(e){return t.handleChild("articles")}}},[a("p",[t._v(t._s(t.authorData.articles))]),t._v("文章 "),a("i",{staticClass:"el-icon-arrow-right"})])],1)])]),t.userId!=t.userinfo.uid?a("div",{staticClass:"btn pull-left"},[a("el-button",{class:t.follow?"el-icon-close":"el-icon-plus",attrs:{"native-type":"button",size:"medium",type:t.follow?"":"success",round:""},on:{click:function(e){return t.followed(t.follow)}}},[t._v(t._s(t.follow?"取消":"关注"))])],1):t._e()]),a("div",{staticClass:"home-content home-head"},["articles"==t.childFlag?a("div",[a("Articles",{attrs:{user:t.userinfo.uid}})],1):"followed"==t.childFlag?a("div",[a("Follow",{attrs:{active:"first"}})],1):a("div",[a("Follow",{attrs:{active:"second"}})],1)])]),a("div",{staticClass:"user-nav pull-left"},[a("div",{staticClass:"user-summary"},[a("p",[t._v("个人介绍")]),t._v(" "+t._s(t.authorData.about_me)+" ")]),t.wordCloudData.length?a("div",{staticClass:"word-cloud"},[a("wordCloud",{attrs:{data:t.wordCloudData,"size-range":[10,30]}})],1):t._e()])])},i=[],o=a("2423"),l=a("c24f"),r=a("aca9"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"follow-content"},[[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{name:"first"}},[a("span",{staticClass:"icon-title",attrs:{slot:"label"},slot:"label"},[a("svg-icon",{attrs:{iconClass:"articles",className:"articles"}}),t._v(" 文章")],1),a("div",{staticClass:"article-list"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.articlesData,stripe:"","show-header":!1}},[a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"title"},[a("router-link",{attrs:{tag:"a",to:"/article/detail/"+e.row.id}},[t._v(t._s(e.row.title))]),t.authorId==t.user?a("el-button",{staticClass:"pull-right",attrs:{icon:"el-icon-delete",size:"mini",round:""},on:{click:function(a){return t.articleDelete(e)}}}):t._e(),t.authorId==t.user?a("el-button",{staticClass:"pull-right",attrs:{icon:"el-icon-edit",size:"mini",round:""},on:{click:function(a){return t.articleUpdate(e.row.id)}}}):t._e()],1),a("p",[t._v(t._s(e.row.summary))]),a("div",{staticClass:"article-table-bottom"},[a("svg-icon",{attrs:{iconClass:"read",className:"read"}}),a("span",{staticClass:"author-box"},[t._v(t._s(e.row.read))]),a("svg-icon",{attrs:{iconClass:"like",className:"like"}}),a("span",{staticClass:"author-box"},[t._v(t._s(e.row.comments))]),t._v(" "+t._s(e.row.timestamp)+" ")],1)]}}])})],1)],a("div",{staticClass:"more"},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"info",round:""},on:{click:function(e){return t.onMore("timestamp")}}},[t._v("阅读更多")])],1)],2)]),a("el-tab-pane",{attrs:{name:"second"}},[a("span",{staticClass:"icon-title",attrs:{slot:"label"},slot:"label"},[a("svg-icon",{attrs:{iconClass:"hot",className:"hot"}}),t._v(" 热门 ")],1),a("div",{staticClass:"article-list"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.articlesData,stripe:"","show-header":!1}},[a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"title"},[a("router-link",{attrs:{tag:"a",to:"/article/detail/"+e.row.id}},[t._v(t._s(e.row.title))]),t.authorId==t.user?a("el-button",{staticClass:"pull-right",attrs:{icon:"el-icon-delete",size:"mini",round:""},on:{click:function(a){return t.articleDelete(e)}}}):t._e(),t.authorId==t.user?a("el-button",{staticClass:"pull-right",attrs:{icon:"el-icon-edit",size:"mini",round:""},on:{click:function(a){return t.articleUpdate(e.row.id)}}}):t._e()],1),a("p",[t._v(t._s(e.row.summary))]),a("div",{staticClass:"article-table-bottom"},[a("svg-icon",{attrs:{iconClass:"read",className:"read"}}),a("span",{staticClass:"author-box"},[t._v(t._s(e.row.read))]),a("svg-icon",{attrs:{iconClass:"like",className:"like"}}),a("span",{staticClass:"author-box"},[t._v(t._s(e.row.comments))]),t._v(" "+t._s(e.row.timestamp)+" ")],1)]}}])})],1)],a("div",{staticClass:"more"},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"info",round:""},on:{click:function(e){return t.onMore("read")}}},[t._v("阅读更多")])],1)],2)])],1)]],2)},c=[],u=(a("99af"),a("a434"),a("b0c0"),a("a9e3"),{name:"userArticles",props:{user:{type:Number}},data:function(){return{page:1,per_page:5,authorId:this.$route.params.userId,activeName:"first",articlesData:[]}},methods:{initData:function(){this.getArticlesData(1,"timestamp")},getArticlesData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=arguments.length>1?arguments[1]:void 0,s={page:e,per_page:this.per_page,author:this.authorId,order:a};Object(o["f"])(s).then((function(e){e.data.data.length?t.articlesData=t.articlesData.concat(e.data.data):t.$message({message:"无更多数据",type:"warning"})})).catch((function(t){console.log(t)}))},handleClick:function(t,e){this.page=1,this.articlesData=[],"second"==t.name?this.getArticlesData(1,"read"):this.getArticlesData(1,"timestamp")},articleUpdate:function(t){this.$router.push({name:"UserWriting",params:{userId:this.user},query:{articleId:t,type:"update"}}),console.log("编辑文章")},articleDelete:function(t){var e=this,a={articleId:t.row.id,author:this.authorId};Object(o["b"])(a).then((function(a){e.articlesData.splice(t.$index,1)})).catch((function(t){console.log(t)}))},onMore:function(t){this.page=this.page+1,this.getArticlesData(this.page,t)}},created:function(){this.initData()}}),d=u,f=(a("3b15"),a("2877")),h=Object(f["a"])(d,n,c,!1,null,"8b559eec",null),p=h.exports,v=a("05d5"),w={name:"userIndex",components:{Follow:r["default"],Articles:p,wordCloud:v["a"]},data:function(){return{childFlag:"articles",userId:this.$route.params.userId,follow:!1,authorData:{},wordCloudData:[]}},methods:{initData:function(){this.getUserInfo(),this.getAuthorData(this.userId),this.getfollow(this.userId),this.getWordCloud("timestamp")},getWordCloud:function(t){var e=this,a={author:this.userId,order:t};Object(o["h"])(a).then((function(t){e.wordCloudData=t.data.data})).catch((function(t){console.log(t)}))},getAuthorData:function(t){var e=this;Object(l["c"])(t).then((function(t){e.authorData=t.data.data})).catch((function(t){console.log(t)}))},getfollow:function(t){var e=this;if(this.islive){var a={user:this.userinfo.uid,author:t,type:2};Object(l["a"])(a).then((function(t){e.follow=t.data.data})).catch((function(t){console.log(t)}))}},getUserInfo:function(){this.userinfo=this.$store.state.userInfo,this.islive=this.$store.state.isLive,console.log(this.userinfo),this.userId=this.$route.params.userId},followed:function(t){var e=this;if(this.checkUser()){var a={user:this.userinfo.uid,author:this.userId};a.type=t?0:1,Object(l["a"])(a).then((function(a){e.follow=!t})).catch((function(t){console.log(t)}))}},checkUser:function(){if(this.islive)return!0;this.$router.push({name:"Login"})},handleChild:function(t){this.childFlag=t}},created:function(){this.initData()}},m=w,g=(a("a8ad"),Object(f["a"])(m,s,i,!1,null,"60c052f8",null));e["default"]=g.exports},7581:function(t,e,a){},"950a":function(t,e,a){"use strict";var s=a("3a2a"),i=a.n(s);i.a},a434:function(t,e,a){"use strict";var s=a("23e7"),i=a("23cb"),o=a("a691"),l=a("50c4"),r=a("7b0b"),n=a("65f0"),c=a("8418"),u=a("1dde"),d=a("ae40"),f=u("splice"),h=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,w=9007199254740991,m="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!f||!h},{splice:function(t,e){var a,s,u,d,f,h,g=r(this),_=l(g.length),b=i(t,_),C=arguments.length;if(0===C?a=s=0:1===C?(a=0,s=_-b):(a=C-2,s=v(p(o(e),0),_-b)),_+a-s>w)throw TypeError(m);for(u=n(g,s),d=0;d<s;d++)f=b+d,f in g&&c(u,d,g[f]);if(u.length=s,a<s){for(d=b;d<_-s;d++)f=d+s,h=d+a,f in g?g[h]=g[f]:delete g[h];for(d=_;d>_-s+a;d--)delete g[d-1]}else if(a>s)for(d=_-s;d>b;d--)f=d+s-1,h=d+a-1,f in g?g[h]=g[f]:delete g[h];for(d=0;d<a;d++)g[d+b]=arguments[d+2];return g.length=_-s+a,u}})},a8ad:function(t,e,a){"use strict";var s=a("7581"),i=a.n(s);i.a},a9e3:function(t,e,a){"use strict";var s=a("83ab"),i=a("da84"),o=a("94ca"),l=a("6eeb"),r=a("5135"),n=a("c6b6"),c=a("7156"),u=a("c04e"),d=a("d039"),f=a("7c73"),h=a("241c").f,p=a("06cf").f,v=a("9bf2").f,w=a("58a8").trim,m="Number",g=i[m],_=g.prototype,b=n(f(_))==m,C=function(t){var e,a,s,i,o,l,r,n,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=w(c),e=c.charCodeAt(0),43===e||45===e){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:s=2,i=49;break;case 79:case 111:s=8,i=55;break;default:return+c}for(o=c.slice(2),l=o.length,r=0;r<l;r++)if(n=o.charCodeAt(r),n<48||n>i)return NaN;return parseInt(o,s)}return+c};if(o(m,!g(" 0o1")||!g("0b1")||g("+0x1"))){for(var I,k=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof k&&(b?d((function(){_.valueOf.call(a)})):n(a)!=m)?c(new g(C(e)),a,k):C(e)},D=s?h(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;D.length>y;y++)r(g,I=D[y])&&!r(k,I)&&v(k,I,p(g,I));k.prototype=_,_.constructor=k,l(i,m,k)}},aca9:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"follow-content"},[[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"关注用户",name:"first"}},[a("div",{staticClass:"author-list"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.followData,"show-header":!1}},[a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"follow"},[a("div",{staticClass:"fol-left pull-left"},[a("div",{staticClass:"title"},[a("router-link",{attrs:{tag:"a",to:"/userIndex/"+e.row.id,target:"_blank"}},[t._v(" "+t._s(e.row.name)+" ")])],1),a("div",{staticClass:"icon-list"},[a("div",{staticClass:"first meta-bolck pull-left"},[t._v(" 关注 "+t._s(e.row.followed)+" ")]),a("div",{staticClass:"meta-bolck pull-left"},[t._v(" 粉丝 "+t._s(e.row.fans)+" ")]),a("div",{staticClass:"meta-bolck pull-left"},[a("router-link",{attrs:{tag:"a",to:"/userIndexFollow/"}},[t._v("文章 "+t._s(e.row.articles))])],1)])]),a("div",{staticClass:"fol-right pull-right"},[a("el-button",{class:e.row.is_followed?"el-icon-close":"el-icon-plus",attrs:{"native-type":"button",size:"medium",type:e.row.is_followed?"":"success",round:""},on:{click:function(a){return t.followed(e.$index,e.row)}}},[t._v(t._s(e.row.is_followed?"取消":"关注"))])],1)])]}}])})],1)],a("div",{staticClass:"more"},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"info",round:""},on:{click:function(e){return t.onMore("followed")}}},[t._v("阅读更多")])],1)],2)]),a("el-tab-pane",{attrs:{label:"粉丝",name:"second"}},[a("div",{staticClass:"author-list"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.followData,"show-header":!1}},[a("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"follow"},[a("div",{staticClass:"fol-left pull-left"},[a("div",{staticClass:"title"},[a("router-link",{attrs:{tag:"a",to:"/userIndex/"+e.row.id,target:"_blank"}},[t._v(" "+t._s(e.row.name)+" ")])],1),a("div",{staticClass:"icon-list"},[a("div",{staticClass:"first meta-bolck pull-left"},[t._v(" 关注 "+t._s(e.row.followed)+" ")]),a("div",{staticClass:"meta-bolck pull-left"},[t._v(" 粉丝 "+t._s(e.row.fans)+" ")]),a("div",{staticClass:"meta-bolck pull-left"},[a("router-link",{attrs:{tag:"a",to:"/userIndexFollow/"}},[t._v("文章 "+t._s(e.row.articles))])],1)])]),a("div",{staticClass:"fol-right pull-right"},[a("el-button",{class:e.row.is_followed?"el-icon-close":"el-icon-plus",attrs:{"native-type":"button",size:"medium",type:e.row.is_followed?"":"success",round:""},on:{click:function(a){return t.followed(e.$index,e.row)}}},[t._v(t._s(e.row.is_followed?"取消":"关注"))])],1)])]}}])})],1)],a("div",{staticClass:"more"},[a("el-button",{staticStyle:{width:"100%"},attrs:{type:"info",round:""},on:{click:function(e){return t.onMore("fans")}}},[t._v("阅读更多")])],1)],2)])],1)]],2)},i=[],o=(a("99af"),a("c24f")),l={name:"userFollow",props:{active:String,default:"followed"},data:function(){return{page:1,per_page:5,authorId:this.$route.params.userId,activeName:this.active,followData:[]}},methods:{initData:function(){this.getUserInfo()},getUserInfo:function(){this.userInfo=this.$store.state.userInfo,this.islive=this.$store.state.isLive,this.authorId=this.$route.params.userId,"first"==this.activeName?this.getFollowData(1,this.authorId,"followed"):this.getFollowData(1,this.authorId,"fans")},authorClick:function(t){this.$router.push({name:"UserIndex",params:{userId:t}})},handleClick:function(t,e){this.page=1,this.followData=[],"关注用户"==t.label?this.getFollowData(1,this.authorId,"followed"):this.getFollowData(1,this.authorId,"fans")},getFollowData:function(t,e,a){var s=this,i={page:t,per_page:this.per_page,author_id:e,type:a,user:this.userInfo.uid};Object(o["d"])(i).then((function(t){t.data.data.length?s.followData=s.followData.concat(t.data.data):s.$message({message:"无更多数据",type:"warning"})})).catch((function(t){console.log(t)}))},followed:function(t,e){var a=this;if(this.checkUser()){var s={user:this.userInfo.uid,author:e.id};s.type=e.is_followed?0:1,Object(o["a"])(s).then((function(s){e.is_followed=!e.is_followed,a.$set(a.followData,t,e)})).catch((function(t){console.log(t)}))}},checkUser:function(){if(this.islive)return!0;this.$router.push({name:"Login"})},onMore:function(t){this.page=this.page+1,this.getFollowData(this.page,this.authorId,t)}},created:function(){this.initData()},watch:{active:{handler:function(t){this.activeName=t,this.page=1,this.followData=[],"first"==this.activeName?this.getFollowData(1,this.authorId,"followed"):this.getFollowData(1,this.authorId,"fans")}}}},r=l,n=(a("950a"),a("2877")),c=Object(n["a"])(r,s,i,!1,null,"3f177455",null);e["default"]=c.exports},b0c0:function(t,e,a){var s=a("83ab"),i=a("9bf2").f,o=Function.prototype,l=o.toString,r=/^\s*function ([^ (]*)/,n="name";!s||n in o||i(o,n,{configurable:!0,get:function(){try{return l.call(this).match(r)[1]}catch(t){return""}}})},ca1a:function(t,e,a){}}]);