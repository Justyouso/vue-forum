(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74b5ddb4"],{2423:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"e",(function(){return u}));var c=n("b775");function a(t){return c["a"].request({method:"get",url:"/article/new/list",params:t})}function o(t){return c["a"].request({method:"post",url:"/article/create",data:t})}function r(t){return c["a"].request({method:"put",url:"/article/".concat(t.article_id),data:t})}function i(t){return c["a"].request({method:"get",url:"/article/".concat(t)})}function u(t){return c["a"].request({method:"get",url:"/article/wordcloud",params:t})}},c03d8:function(t,e,n){"use strict";n.r(e);var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("mavon-editor",{ref:"editor",on:{save:t.saveDoc,change:t.updateDoc},model:{value:t.doc,callback:function(e){t.doc=e},expression:"doc"}})],1)},a=[],o=n("2423"),r={name:"userWriting",data:function(){return{doc:"",uid:"",aritcleInfo:{articleId:this.$route.query.articleId,type:this.$route.query.type}}},methods:{initData:function(){this.uid=this.$store.state.userInfo.uid,"update"==this.aritcleInfo.type&&this.getArticleDetail(this.aritcleInfo.articleId)},getArticleDetail:function(t){var e=this;Object(o["b"])(t).then((function(t){e.doc=t.data.data.body_md})).catch((function(t){console.log(t)}))},updateDoc:function(t,e){console.log("markdown内容: "+t),console.log("html内容:"+t)},saveDoc:function(t,e){var n=this,c={body_md:t,body_html:e,author_id:this.uid,article_id:this.aritcleInfo.articleId};"update"!=this.aritcleInfo.type?Object(o["a"])(c).then((function(t){var e=t.data;n.$message({message:e.message,type:"success"})})).catch((function(t){console.log(t)})):Object(o["d"])(c).then((function(t){var e=t.data;n.$message({message:e.message,type:"success"})})).catch((function(t){console.log(t)}))}},created:function(){this.initData()}},i=r,u=n("2877"),s=Object(u["a"])(i,c,a,!1,null,"f6c79e42",null);e["default"]=s.exports}}]);