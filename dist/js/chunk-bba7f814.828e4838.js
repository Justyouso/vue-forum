(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bba7f814"],{"64d0":function(t,a,e){},"6cf2":function(t,a,e){"use strict";var s=e("64d0"),l=e.n(s);l.a},"79ce":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"search"},[e("div",{staticClass:"nav-left pull-left"},[e("el-row",{staticClass:"tac"},[e("el-col",{attrs:{span:20}},[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1"}},[e("el-menu-item",{attrs:{index:"1"},on:{click:function(a){return t.getArticles()}}},[e("i",{staticClass:"el-icon-s-order icon"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("文章")])]),e("el-menu-item",{attrs:{index:"2"},on:{click:function(a){return t.getUsers()}}},[e("i",{staticClass:"el-icon-user-solid icon"}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v("用户")])])],1)],1)],1)],1),e("div",{staticClass:"nav-right pull-left"},["articles"==t.flag?e("div",{staticClass:"article-list"},[[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.articlesData,stripe:"","show-header":!1}},[e("div",[e("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(a){return[e("router-link",{staticClass:"title",attrs:{tag:"a",to:"/article/detail/"+a.row.id,target:"_blank"}},[t._v(t._s(a.row.title))]),e("p",[t._v(t._s(a.row.summary))]),e("div",{staticClass:"article-table-bottom"},[e("router-link",{staticClass:"author-box",attrs:{tag:"a",to:"/userIndex/"+a.row.author_id}},[t._v(t._s(a.row.author))]),e("svg-icon",{attrs:{iconClass:"read",className:"read"}}),e("span",{staticClass:"author-box"},[t._v(t._s(a.row.read))]),e("svg-icon",{attrs:{iconClass:"like",className:"like"}}),e("span",{staticClass:"author-box"},[t._v(t._s(a.row.comments))])],1)]}}],null,!1,1271190707)})],1)])]],2):e("div",{staticClass:"author-list"},[[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.usersData,"show-header":!1}},[e("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"follow"},[e("div",{staticClass:"fol-left pull-left"},[e("div",{staticClass:"title"},[e("router-link",{attrs:{tag:"a",to:{path:"/userIndex/"+a.row.id,query:{type:1}},target:"_blank"}},[t._v(" "+t._s(a.row.name)+" ")])],1),e("span",{staticClass:"about-me"},[t._v(t._s(a.row.about_me))]),e("div",{staticClass:"icon-list"},[e("div",{staticClass:"first meta-bolck pull-left"},[t._v(" 关注 "+t._s(a.row.followed)+" ")]),e("div",{staticClass:"meta-bolck pull-left"},[t._v(" 粉丝 "+t._s(a.row.fans)+" ")]),e("div",{staticClass:"meta-bolck pull-left"},[e("router-link",{attrs:{tag:"a",to:"/userIndexFollow/"}},[t._v("文章 "+t._s(a.row.articles))])],1)])]),e("div",{staticClass:"fol-right pull-right"},[e("el-button",{class:a.row.is_followed?"el-icon-close":"el-icon-plus",attrs:{"native-type":"button",size:"medium",type:a.row.is_followed?"":"success",round:""},on:{click:function(e){return t.followed(a.$index,a.row)}}},[t._v(t._s(a.row.is_followed?"取消关注":"关注"))])],1)])]}}])})],1)]],2),e("div",{staticClass:"pull-right pageination"},[e("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":10,layout:"total, prev, pager, next",total:t.totalpage},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(a){t.currentPage=a},"update:current-page":function(a){t.currentPage=a},"update:total":function(a){t.totalpage=a}}})],1)])])},l=[],r=e("b775");function o(t){return r["a"].request({method:"get",url:"/article/search",params:t})}function i(t){return r["a"].request({method:"get",url:"/user/search",params:t})}var n={data:function(){return{currentPage:1,totalpage:0,keywords:this.$route.params.keywords,flag:"articles",articlesData:[],usersData:[{articles:0,fans:2,followed:0,id:10,is_followed:!0,name:"wc",about_me:"楚虽三户，亡秦必楚"}]}},methods:{getArticles:function(t){var a=this,e={keywords:this.keywords,page:t};o(e).then((function(t){a.articlesData=t.data.data,a.totalpage=t.data.total})).catch((function(t){console.log(t)}))},getUsers:function(t){var a=this,e={keywords:this.keywords,page:t};i(e).then((function(t){a.usersData=t.data.data,a.totalpage=t.data.total})).catch((function(t){console.log(t)})),this.flag="users",console.log("用户"),console.log(this.keywords)},handleCurrentChange:function(t){"articles"==this.flag?this.getArticles(t):this.getUsers(t)}},created:function(){this.keywords=this.$route.params.keywords,this.getArticles(this.currentPage)}},c=n,u=(e("6cf2"),e("2877")),d=Object(u["a"])(c,s,l,!1,null,"34458408",null);a["default"]=d.exports}}]);