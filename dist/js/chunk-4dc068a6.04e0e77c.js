(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4dc068a6"],{"182e":function(t,i,a){"use strict";var e=a("26e9"),o=a.n(e);o.a},"26e9":function(t,i,a){},"3cf7":function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"content-detail"},[a("div",{staticClass:"article-detail"},[a("div",{staticClass:"markdown-body author-detail"},[a("div",{staticClass:"author"},[t._v(t._s(t.article.author))]),a("el-button",{staticClass:"like",attrs:{"native-type":"button",size:"mini",type:t.follow?"":"danger",round:""},on:{click:function(i){return t.followed(t.follow)}}},[t._v(t._s(t.follow?"取消关注":"关注"))]),a("div",{staticClass:"article-info"},[t._v("字数"+t._s(t.article.body_num)+" 阅读 "+t._s(t.article.read))])],1),a("div",{staticClass:"editor"},[a("mavon-editor",{attrs:{boxShadow:!1},domProps:{innerHTML:t._s(t.article.body_html)}})],1),a("div",{staticClass:"markdown-body"},[t._v(" 评论: ")])]),a("div",{staticClass:"relation_list"},[[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.articles}},[a("div",[a("el-table-column",{attrs:{label:"相关文章"},scopedSlots:t._u([{key:"default",fn:function(i){return[a("router-link",{staticClass:"login-register",attrs:{tag:"a",to:"/article/detail/"+i.row.id,target:"_blank"}},[t._v(" "+t._s(i.row.title)+" ")]),a("p",[t._v("阅读 "+t._s(i.row.read))])]}}])})],1)])]],2),t.wordCloudData.length>0?a("div",{staticClass:"word_cloud"},[a("wordCloud",{attrs:{data:t.wordCloudData,"size-range":[10,30]}})],1):t._e()])},o=[],s=a("2423"),n=a("c24f"),l=a("05d5"),r={name:"articleDetail",components:{wordCloud:l["a"]},data:function(){return{article:{},follow:!1,userinfo:{},islive:null,articles:[],wordCloudData:[]}},methods:{initData:function(){this.getArticleDetail(),this.getWordCloud(),this.getUserInfo()},getWordCloud:function(){var t=this,i={articles:this.articleId};Object(s["e"])(i).then((function(i){t.wordCloudData=i.data.data})).catch((function(t){console.log(t)}))},getArticleDetail:function(){var t=this;Object(s["b"])(this.articleId).then((function(i){t.article=i.data.data,t.getfollow(t.article.author_id),t.getArticles(t.article.author_id)})).catch((function(t){console.log(t)}))},getArticles:function(t){var i=this,a={page:1,per_page:5,author:t};Object(s["c"])(a).then((function(t){i.articles=t.data.data})).catch((function(t){console.log(t)}))},getUserInfo:function(){this.userinfo=this.$store.state.userInfo,this.islive=this.$store.state.isLive},getfollow:function(t){var i=this;if(this.islive){var a={user:this.userinfo.uid,author:t,type:2};Object(n["a"])(a).then((function(t){i.follow=t.data.data})).catch((function(t){console.log(t)}))}},followed:function(t){var i=this;if(this.checkUser()){var a={user:this.userinfo.uid,author:this.article.author_id};a.type=t?0:1,Object(n["a"])(a).then((function(a){i.follow=!t})).catch((function(t){console.log(t)}))}},checkUser:function(){if(this.islive)return!0;this.$router.push({name:"Login"})}},computed:{articleId:function(){return this.$route.params.articleId}},created:function(){this.initData()},mounted:function(){}},c=r,u=(a("182e"),a("2877")),d=Object(u["a"])(c,e,o,!1,null,"6614921b",null);i["default"]=d.exports}}]);